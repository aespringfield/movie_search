var myApp=angular.module("myApp",[]);myApp.controller("FormController",["$scope","MovieService",function(a,b){a.getMovieData=b.getMovieData,a.searchError=b.searchError,a.displaySearchError=b.displaySearchError,a.addToFavorites=b.addToFavorites,a.currentMovie={display:!1,titleInput:"",reset:function(){this.display=!1,delete this.data}}}]),myApp.controller("DisplayController",["$scope","MovieService",function(a,b){a.movieList=b.movieList}]),myApp.factory("MovieService",["$http",function(a){var b=[],c={display:!1,msg:"No movie found"};return displaySearchError=function(a){c.display=!!a},{movieList:b,searchError:c,getMovieData:function(b){displaySearchError(!1),a.get("http://www.omdbapi.com/?t="+b.titleInput+"&type=movie&y=&plot=full&r=json").then(function(a){console.log(a.data),"True"==a.data.Response?(b.titleInput="",b.data=a.data,b.display=!0):(b.reset(),displaySearchError(!0))})},addToFavorites:function(c){b.push(c.data),a.post("/movie",c.data).then(function(a){console.log(a)}),c.reset()}}}]);